# 浏览器进程

现在的浏览器基本都是采用多进程架构设计，即一个标签页会启动多个进程，一般至少会有如下四个进程：

1. 浏览器进程：浏览器的主进程，负责协调、控制其他进程。

2. 渲染进程：渲染页面内容的进程。

3. 网络进程：负责处理网络请求，每个标签页都共享同一个网络进程，以减少资源占用。

4. GPU 进程：负责处理浏览器中与图形相关的任务。

5. 插件进程：如何页面使用了插件，如 Flash、PDF 等，就会有对应的插件进程。

<br><br>

# 渲染进程

渲染进程即我们常说的浏览器内核，它下面又分 5 类线程：

1. GUI 渲染线程：负责渲染网页。

2. JS 引擎线程：使用 JS 引擎处理 JS 脚本。

3. 事件触发线程：管理着事件队列，当对应的事件被触发时，事件触发线程就会把该事件添加到事件队列的队尾，等待 JS 引擎的处理。

4. 定时器触发线程：负责处理定时器，计时完毕后，会把定时器的回调函数添加到事件队列中，等待 JS 引擎处理。

5. 异步 HTTP 请求线程：XMLHttpRequest 连接后，浏览器会新开一个线程，检测请求状态变更。如果设置了回调函数，异步线程就会产生状态变更事件，将这个回调添加到事件队列中，等待 JS 引擎处理。

<br>

GUI 渲染线程对应**渲染引擎**

渲染引擎的工作流程：解析 HTML、解析 CSS、构建 DOM 树、构建渲染树、布局、分层、绘制、分块、光栅化、合成、显示。

<br>

JS 引擎线程对应**JS 引擎**

JS 引擎的主要工作：安全性、内存管理、插件管理、处理网络请求、脚本执行、处理用户输入。

<br>

渲染进程中的异步 HTTP 请求线程和网络进程：

渲染进程中的异步 HTTP 请求线程专门用来处理 JS 层面的异步请求，比如 XMLHttpRequest、fetch 等；网络进程比较全面，负责处理所有的网络操作，包括页面导航、处理主页面&子页面请求、资源加载等。

<br><br>

# 网络进程

网络进程下又分 4 类线程：

1. DNS 解析线程：负责 DNS 解析。

2. SSL 线程：处理 SSL/TLS 相关的加密和安全通信。

3. 网络请求线程：处理网络请求，包括接收和发送数据。

4. IPC 线程：负责进程间通信。

<br>

主要功能包括：

1. 处理网络请求

2. HTTP 缓存管理

3. 网络安全保障

4. 跨域资源共享 (CORS)

5. 代理服务器交互

6. ...

<br><br>

# CPU & GPU

CPU（Central Processing Unit）：中央处理器，在单个任务上表现优异，适用于处理复杂的、多变的计算任务。

GPU（Graphics Processing Unit）：图形处理器，在大规模并行计算上表现优异，适用于处理大规模的、高度并行、重复的计算任务。

<br><br>

# CSS 硬件加速原理

使用某些 CSS 属性后，渲染引擎会把该元素单独分层交给 GPU 处理。GPU 处理图形计算更快、分层渲染不会造成页面的回流重绘。
