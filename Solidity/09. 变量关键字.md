# 关键字

-   public：任何地方都能访问

-   private：仅能在合约内部访问

-   internal：仅能在合约内部或者继承合约内部访问

-   external：仅能在合约外部访问

```solidity
// SPDX-License-Identifier: MIT
pragma solidity 0.8.7;

contract Demo {
    uint public publicVar = 1;
    uint internal internalVar = 2;
    uint private privateVar = 3;
    uint initVar = 4; // default internal

    function publicFunc() public view returns (uint) {
        return publicVar;
    }

    function internalFunc() internal view returns (uint) {
        return internalVar;
    }

    function privateFunc() private view returns (uint) {
        return privateVar;
    }

    function externalFunc() external view returns (uint) {
        return initVar;
    }

    function testFuncInDemo() public view {
        publicVar + internalVar + privateVar + initVar;

        publicFunc();
        internalFunc();
        privateFunc();
        // externalFunc();
    }
}

contract DemoChild is Demo {
    function testFunc() public view {
        publicVar + internalVar + initVar;

        publicFunc();
        internalFunc();
        // privateFunc();
        // externalFunc();
    }
}

contract DemoExternal {
    Demo demo = new Demo();

    function testFunc() public view {
        demo.publicVar;

        demo.publicFunc();
        // demo.internalFunc();
        // demo.privateFunc();
        demo.externalFunc();
    }
}
```

<br>

在 Solidity 种，public state variables 会自动生成 getter 函数，一般情况下 可以直接访问变量，但有需要调用 getter 的情况：

```solidity
contract Demo {
    uint public publicVar = 1;
}

contract DemoExternal {
    Demo demo = new Demo();

    function testFunc() public view returns (uint) {
        demo.publicVar; // 直接访问
        return demo.publicVar(); // 通过 getter 访问
    }
}
```

<br><br>

# constant

constant 用于声明常量：

```solidity
// SPDX-License-Identifier: MIT
pragma solidity 0.8.7;

contract Demo {
    uint256 public constant NUM = 100;
    uint256 public num = 100;
}
```

常量会比变量消耗更少的 gas ~

<br><br>

# Immutable

immutable 修饰的变量需要在合约部署时初始化，之后不可修改。

```solidity
// SPDX-License-Identifier: MIT
pragma solidity 0.8.7;

contract Demo {
    uint public immutable immutableVar1 = 1; // 声明时初始化
    uint public immutable immutableVar2;

    constructor(uint _immutableVar2) {
        immutableVar2 = _immutableVar2; // 通过构造函数初始化
    }
}
```

使用 immutable 能节省 gas 费用。

<br>
