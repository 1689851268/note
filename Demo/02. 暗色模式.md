<br>

1. åœ¨ theme.css ä¸­ç¼–å†™ä¸¤å¥— CSS å˜é‡

```css
/* æš—è‰²ä¸»é¢˜ */
html[data-theme='dark'] {
    --bg-color: #102128;
    --text-color: #fff;
}

/* äº®è‰²ä¸»é¢˜ */
:root {
    --bg-color: #f2f2f2;
    --text-color: #000;
}
```

<br>

2. åœ¨å…¥å£æ–‡ä»¶ main.ts ä¸­å¼•å…¥ theme.css æ–‡ä»¶

```ts
import './css/theme.css';
```

<br>

3. åœ¨ useTheme.ts ä¸­ç¼–å†™å·¥å…·å‡½æ•° useTheme

```ts
import { ref, watchEffect } from 'vue';

const THEME_KEY = '__theme__';
type Theme = 'light' | 'dark';

function useTheme() {
    const localTheme = localStorage.getItem(THEME_KEY) as Theme | null;
    const theme = ref<Theme>(localTheme || 'light');

    watchEffect(() => {
        localStorage.setItem(THEME_KEY, theme.value);
        document.documentElement.dataset.theme = theme.value;
    });

    function toggleTheme() {
        theme.value = theme.value === 'light' ? 'dark' : 'light';
    }

    return {
        theme,
        toggleTheme,
    };
}

export default useTheme;
```

<br>

4. åœ¨éœ€è¦ä½¿ç”¨ä¸»é¢˜çš„ç»„ä»¶ä¸­ä½¿ç”¨ useTheme

```vue
<script setup lang="ts">
import useTheme from '../utils/useTheme.js';
const { theme, toggleTheme } = useTheme();

const handleClick = () => {
    toggleTheme();
};
</script>

<template>
    <!-- é€šè¿‡ JS å˜é‡æ§åˆ¶æ•°æ®å±•ç¤º -->
    <div @click="handleClick">
        {{ theme === 'light' ? 'ğŸŒ äº®è‰²æ¨¡å¼' : 'ğŸŒ™ æš—è‰²æ¨¡å¼' }}
    </div>
</template>

<style scoped>
div {
    color: var(--text-color); /* é€šè¿‡ CSS å˜é‡æ§åˆ¶æ ·å¼ */
    background-color: var(--bg-color);
    user-select: none;
    cursor: pointer;
}
</style>
```

<br>
