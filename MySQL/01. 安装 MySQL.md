# 下载免安装版 MySQL

1. 打开 MySQL 官网，拉到最下面选择 MySQL Community Server

<img src="picture/00.%20%E5%AE%89%E8%A3%85%20MySQL/image-20210317190029616.png" alt="image-20210317190029616" style="float:left" />

2. 下载这个压缩版

<img src="picture/00.%20%E5%AE%89%E8%A3%85%20MySQL/image-20210317190218502.png" alt="image-20210317190218502" style="zoom:50%;float:left" />

3. 选择 No thanks 直接开始下载

<img src="picture/00.%20%E5%AE%89%E8%A3%85%20MySQL/image-20210317190324012.png" alt="image-20210317190324012" style="zoom:60%;float:left" />

4. 下载到指定目录后，解压

<br><br>

# MySQL 配置

1. **以管理员身份运行** PowerShell

<img src="./picture/00.%20%E5%AE%89%E8%A3%85%20MySQL/image-20230618111831538.png" alt="image-20230618111831538" style="zoom:50%;" />

2. 转到 mysql 的 bin 目录下

```mysql
C:\Windows\system32>cd D:\mysql-8.0.23-winx64\bin
C:\Windows\system32>D:
D:\mysql-8.0.23-winx64\bin>
```

3. 安装 mysql 的服务：`mysqld --install`

```mysql
D:\mysql-8.0.23-winx64\bin>mysqld --install
Service successfully installed.
```

4. 初始化 mysql，初始化成功后会产生一个初始密码

```mysql
D:\mysql-8.0.23-winx64\bin>mysqld --initialize --console
... [Note] ... 密码  r;Mhgg=yn3(r
```

5. 开启 mysql 的服务

```mysql
D:\mysql-8.0.23-winx64\bin>net start mysql
MySQL 服务正在启动，
MySQL 服务已经启动成功。
```

6. 登陆 MySQL，输入初始密码

```mysql
D:\mysql-8.0.23-winx64\bin>mysql -u root -p
Enter password: **********
```

7. 修改密码，这里我将密码设置为 000930

```mysql
mysql> alter user 'root'@'localhost' identified by 'root';
Query OK, 0 rows affected (0.00 sec)
```

8. 退出数据库，再次登陆验证新密码

```mysql
nysq> \q
Bye
```

```mysql
D:\mysql-8.0.23-winx64\bin>mysql -u root -p
Enter password: ****
```

<br><br>

# 设置系统全局变量

1. 右键 "此电脑" --- "属性" --- "高级系统设置" --- "环境变量"

2. 新建一个系统变量

<img src="picture/00.%20%E5%AE%89%E8%A3%85%20MySQL/image-20210317192043691.png" alt="image-20210317192043691" style="zoom:50%;float:left" />

3. 把新建的 mysql 变量添加到 Path 路径变量中

<img src="picture/00.%20%E5%AE%89%E8%A3%85%20MySQL/image-20210317192136572.png" alt="image-20210317192136572" style="zoom:50%;float:left" />

配置完成后，我们只要 win + R，输入 "cmd" 打开命令行，输入登陆 sql 语句就可以使用 mysql 啦。

4. 在 mysql 目录下创建一个 ini 或 cnf 配置文件，里面写的代码是 mysql 的一些基本配置

<img src="picture/00.%20%E5%AE%89%E8%A3%85%20MySQL/image-20210317192415613.png" alt="image-20210317192415613" style="zoom:50%;float:left" />

```mysql
[mysqld]
character-set-server=utf8mb4
bind-address=0.0.0.0
port=3306
default-storage-engine=INNODB
[mysql]
default-character-set=utf8mb4
[client]
default-character-set=utf8mb4
```

```mysql
[mysqld] # 服务端的配置
# 设置服务端口为 3306 
port=3306 # 默认端口 3306，这是要记住的。
# 设置 mysql 的安装目录，注意目录需要使用 \\ 连接 
basedir=D:\\mysql8\\mysql-8.0.11-winx64 
# 设置 mysql 数据库的数据的存放目录，注意目录需要使用 \\ 连接 
datadir=D:\\mysql8\\mysql-8.0.11-winx64\\data 
# 允许最大连接数 
max_connections=200 
# 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统 
max_connect_errors=10 
# 服务端使用的字符集默认为utf8mb4
character-set-server=utf8mb4
# 创建新表时将使用的默认存储引擎 
default-storage-engine=INNODB 
# 默认使用 "mysql_native_password" 插件认证 
default_authentication_plugin=mysql_native_password [mysql] 
# 设置 mysql 客户端默认字符集 
default-character-set=utf8mb4
# 设置 mysql 客户端连接服务端时默认使用的端口 
port=3306 
default-character-set=utf8mb4 xU.ffAw+A4o)
```

这样子，一个免安装版的 MySQL 就安装并配置完成啦~

<br><br>

# 命令参考

1. 安装服务：`mysqld --install`
2. 初始化：`mysqld --initialize --console`
3. 开启服务：`net start mysql`
4. 关闭服务：`net stop mysql`
5. 登陆 MySQL：`mysql -u root -p`
6. 修改密码：`alter user 'root'@'localhost' identified by 'password';`
7. 标记删除 MySQL 服务：`sc delete mysql`

<br><br>