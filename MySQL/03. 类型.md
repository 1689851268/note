# 数值类型

## 整数

| 整数类型                          | 取值范围                                                                     | 存储需求   |
| --------------------------------- | ---------------------------------------------------------------------------- | ---------- |
| **`TinyInt(size)`**               | **有符号：-128 ~ 127；<br />无符号：0 ~ 255**                                | **1 字节** |
| `SmallInt(size)`                  | 有符号：-32768 ~ 32767<br />无符号：0 ~ 65535                                | 2 字节     |
| `MediumInt(size)`                 | 有符号：-2<sup>23</sup>~2<sup>23</sup>-1<br />无符号：0~2<sup>24</sup>-1     | 3 字节     |
| **`Int(size)`（size 默认为 11）** | **有符号：-2<sup>31</sup>~2<sup>31</sup>-1<br />无符号：0~2<sup>32</sup>-1** | **4 字节** |
| `BigInt(size)`                    | 有符号：-2<sup>63</sup>~2<sup>63</sup>-1<br />无符号：0~2<sup>64</sup>-1     | 8 字节     |

-   默认为有符号，无符号需要设置 `unsigned` 约束
-   插入的数值 > 类型范围 → 直接报错

<br>

## 浮点数

| 小数类型              | 说明                             | 存储需求     |
| --------------------- | -------------------------------- | ------------ |
| `float(size, d)`      | $\pm$1.1754351e-38               | 4 字节       |
| **`double(size, d)`** | **$\pm$2.2250738585072014e-308** | **8 字节**   |
| `decimal(size, d)`    | size 默认为 10，d 默认为 0       | M + 2 个字节 |

-   `size` 为精度；`d` 为保留的小数位数

> -   小数部分：if 数据的小数位数 > d → 系统会自动四舍五入
> -   整数部分：if 数据的整数位数 > size - d → 报错

```mysql
id float(5, 2); -- size=5, d=2, 就是说整数最多只能是3位数
```

-   对于高精度的数值，一般使用 `decimal` 而不考虑 `float`、`double`，因为后者容易产生误差
-   `decimal` & `numeric` 同义，`decimal` 可以简写为 `dec`

<br><br>

# 字符串

| 字符串类型                        | 说明           | 长度          |
| --------------------------------- | -------------- | ------------- |
| **`char(size)`**（size 默认为 1） | **定长字符串** | **0 ~ 255**   |
| **`varchar(size)`**               | **变长字符串** | **0 ~ 65535** |
| `TinyText`                        | 微型文本串     | 0 ~ 255       |
| `text`                            | 文本串         | 0 ~ 65535     |

<br>

## char & varchar

-   `char(10)`：即使实际字节数 < 10，还是会占据 10 个字节的存储空间
-   `varchar(10)`：实际字节数是多少就是多少，能自动计算实际字节数（由于有计算的操作，速度相对会慢一些）

<br><br>

# 枚举类型

```mysql
enum('字段值1', '字段值2');
```

-   对 1 ~ 255 个成员的枚举需要 1 个字节存储
-   对于 255 ~ 65535 个成员，需要 2 个字节存储
-   最多存储 65535 个成员

注意：在操作字段的时候，枚举类型的字段值可以直接写**序号**，1 → 字段 1、2 → 字段 2 ...

```mysql
drop table if exists students;
create table students (
	sex enum('f', 'm')
);
insert into students values('m');
insert into students values('F'); -- 不区分大小写
insert into students values(1); -- 1 → f    2 → m
```

<br><br>

# 日期类型

| 日期类型        | 格式                   | 取值范围                                       |
| --------------- | ---------------------- | ---------------------------------------------- |
| `date`          | YYYY-MM-DD，日期格式   | 1000-01-01 ~ 9999-12-31                        |
| `time`          | hh:mm:ss:              | -835:59:59 ~ 838:59:59                         |
| **`DateTime`**  | **YY-MM-DD hh:mm:ss:** | **1000-01-01 00:00:00 ~ 9999-12-31 23:59:59**  |
| **`TimeStamp`** | **YYYYMMDDHHMMSS**     | **1970 年某时刻 ~ 2038 年某时刻，精度为 1 秒** |
| `year`          | YYYY 格式的年份        | 1901 ~ 2155                                    |

> 1. `TimeStamp` 支持的时间范围较小（1970-01-01 08:00:01 ~ 2038 年的某个时间）
> 2. **`DateTime`** 的取值范围：1000-1-1 ~ 9999-12-31
>
> 3. `TimeStamp` 和实际时区有关，更能反映实际的日期
> 4. **`DateTime`** 只能反映出插入时的当地时区
>
> 5. `TimeStamp` 的属性受 MySQL 版本和 SQLMode 的影响很大

```MySQL
drop tables if exists `time`;
CREATE TABLE `time` (
    `DateTime` datetime,
    `TimeStamp` timestamp
);

insert into `time` values(now(), now());

show variables like 'time_zone'; -- 查看当前时区 → SYSTEM → 2021-04-24 19:32:26

set time_zone = '+9:00'; -- 设置时区

select * from `time`;

-- DateTime 2021-04-24 19:32:26
-- TimeStamp 2021-04-24 20:32:26
```

可以看见 `TimeStamp` 根据时区的改变而改变了

<br>
