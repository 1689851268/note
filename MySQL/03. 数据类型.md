# BIT

数据类型 `BIT` 用于存储位值（binary values）。它可以存储两个二进制值：0 和 1。你可以使用以下语法来定义一个 `BIT` 类型的列：

```sql
column_name BIT(n) -- 其中 `n` 表示位数，可以是从 1 到 64 的整数。如果省略 `n`，默认值为 `1`。
```

可以使用 `b'xx'` 或 `0bxx` 来表示位值字面量，其中 `xx` 是仅包含 0 和 1 的二进制值。例如，`b'111'` 表示 7，`b'10000000'` 表示 128。

如果将一个长度小于 `n` 位的值赋给 `BIT(n)` 列，该值将在左侧用零填充。eg：将值 `b'101'` 赋给 `BIT(6)` 列等同于赋值 `b'000101'`。

<br><br>

# 数值类型

| 浮点数类型      | 范围 (有符号)           | 范围 (无符号)      | 大小                                                  |
| --------------- | ----------------------- | ------------------ | ----------------------------------------------------- |
| `Float`         | `(-3.4E+38, 3.4E+38)`   | `(0, 3.4E+38)`     | 4 Bytes                                               |
| `Double`        | `(-1.7E+308, 1.7E+308)` | `(0, 1.7E+308)`    | 8 Bytes                                               |
| `Decimal(M, D)` | 依赖于 M 和 D 的值      | 依赖于 M 和 D 的值 | 如果 M > D，为 M + 2 否则为 D + 2；默认 M = 10、D = 0 |

-   `M` 表示精度；`D` 表示保留的小数位数

```sql
id Decimal(5, 2); -- M = 5, D = 2, 就是说整数最多只能是 3 位数
```

-   小数部分：if 数据的小数位数 > D → 系统会自动四舍五入
-   整数部分：if 数据的整数位数 > M - D → 报错

Tips：对于高精度的数值，一般使用 `Decimal` 而不考虑 `Float`、`Double`，因为后者容易产生误差

| 整数类型    | 范围 (有符号)     | 范围 (无符号) | 大小    |
| ----------- | ----------------- | ------------- | ------- |
| `TinyInt`   | `(-128, 127)`     | `(0, 255)`    | 1 Bytes |
| `SmallInt`  | `(-2^15, 2^15-1)` | `(0, 2^16-1)` | 2 Bytes |
| `MediumInt` | `(-2^23, 2^23-1)` | `(0, 2^24-1)` | 3 Bytes |
| `Int`       | `(-2^31, 2^31-1)` | `(0, 2^32-1)` | 4 Bytes |
| `BigInt`    | `(-2^63, 2^63-1)` | `(0, 2^64-1)` | 8 Bytes |

-   数值类型默认为有符号类型，如果需要无符号类型，需要在类型后面加上 `unsigned`
-   if 插入的数值 > 类型范围 → 直接报错

<br><br>

# 字符串类型

| 类型            | 大小            | 说明       |
| --------------- | --------------- | ---------- |
| `Char(size)`    | 0 ~ 255 Bytes   | 定长字符串 |
| `VarChar(size)` | 0 ~ 65535 Bytes | 变长字符串 |

-   `size` 表示最大字符数

`Char` & `VarChar` 的区别：`Char(10)`：即使实际字符数 < 10，还是会占据 10 个字符的存储空间；`VarChar(10)`：实际字符数是多少就是多少，能自动计算实际字符数

| 文本类型           | 大小                 | 说明           |
| ------------------ | -------------------- | -------------- |
| `TinyText(size)`   | 0 ~ 255 Bytes        | 短文本字符串   |
| `Text(size)`       | 0 ~ 65535 Bytes      | 文本字符串     |
| `MediumText(size)` | 0 ~ 16777215 Bytes   | 中等文本字符串 |
| `LongText(size)`   | 0 ~ 4294967295 Bytes | 长文本字符串   |

| 二进制文本类型     | 大小                 | 说明             |
| ------------------ | -------------------- | ---------------- |
| `TinyBlob(size)`   | 0 ~ 255 Bytes        | 短二进制字符串   |
| `Blob(size)`       | 0 ~ 65535 Bytes      | 二进制字符串     |
| `MediumBlob(size)` | 0 ~ 16777215 Bytes   | 中等二进制字符串 |
| `LongBlob(size)`   | 0 ~ 4294967295 Bytes | 长二进制字符串   |

<br><br>

# 枚举类型

```sql
Enum('字段值1', '字段值2');
```

对 1 ~ 255 个成员的枚举需要 1 个字节存储；对于 255 ~ 65535 个成员，需要 2 个字节存储；最多存储 65535 个成员

注意：在操作字段的时候，枚举类型的字段值可以直接写**序号**，1 → 字段 1、2 → 字段 2 ...

```sql
DROP TABLE IF EXISTS students;
CREATE TABLE students ( sex ENUM ( 'f', 'm' ) );
INSERT INTO students VALUES ( 'm' );
INSERT INTO students VALUES ( 'F' ); -- 不区分大小写
INSERT INTO students VALUES ( 1 ); -- 1 → f    2 → m
```

<br><br>

# 日期类型

| 日期类型    | 范围                                              | 格式                | 大小    |
| ----------- | ------------------------------------------------- | ------------------- | ------- |
| `Date`      | 1000-01-01 ~ 9999-12-31                           | YYYY-MM-DD          | 3 Bytes |
| `Time`      | -835:59:59 ~ 838:59:59                            | hh:mm:ss            | 3 Bytes |
| `DateTime`  | 1000-01-01 00:00:00 ~ 9999-12-31 23:59:59         | YYYY-MM-DD hh:mm:ss | 8 Bytes |
| `TimeStamp` | UTC 1970-01-01 00:00:01 ~ UTC 2038-01-19 03:14:07 | YYYY-MM-DD hh:mm:ss | 4 Bytes |
| `Year`      | 1901 ~ 2155                                       | YYYY                | 1 Bytes |

`TimeStamp` 和 `DateTime` 的区别：

1.  `TimeStamp` 支持的时间范围较小；`DateTime` 支持的时间范围较大
2.  `TimeStamp` 和实际时区有关，更能反映实际的日期；`DateTime` 只能反映出插入时的当地时区

```sql
DROP TABLE IF EXISTS `time`;
CREATE TABLE `time` ( `DateTime` DATETIME, `TimeStamp` TIMESTAMP );
INSERT INTO `time` VALUES ( now(), now() );

-- 查看当前时区
SHOW VARIABLES LIKE 'time_zone'; -- 2021-04-24 19:32:26

-- 设置时区
SET time_zone = '+9:00';

SELECT * FROM `time`; -- DateTime 2021-04-24 19:32:26, TimeStamp 2021-04-24 20:32:26
```

可以看见 `TimeStamp` 根据时区的改变而改变了

<br>
