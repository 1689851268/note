# Math 对象

Math 是 JS 的内置对象，可以直接使用：

```js
console.log(Object.prototype.toString.call(Math)); // [object Math]
console.log(Math); // Math {abs: ƒ, acos: ƒ, …}
```

<br>

Math 的常用属性 `Math.PI`：圆周率 `3.141592653589793`

<br><br>

# Math 的常用方法

## Math.random

获取 `[0, 1)` 之间的随机数：`Math.random()`

<br>

## Math.min

获取最小参数值：`Math.min(a, b, ...)`

-   如果参数不是 number，会隐式转换，转不了也就比不来，返回 `NaN`
-   可以传入 0 ~ n 个参数，不传参返回 `Infinity`

```js
Math.min(1, 2, 3, 4); // 1
```

如果要获取**数组**中的最小值，可以使用 [`apply` 方法] / [扩展运算符 `...`]：

```js
Math.min.apply(null, [5, 2, 6, 4, 9]); // 2
Math.min(...[5, 2, 6, 4, 9]); // 2
```

<br>

## Math.max

获取最大参数值：`Math.max(a, b, ...)`

-   如果参数不是 number，会隐式转换，转不了也就比不来，返回 `NaN`
-   可以传入 0 ~ n 个参数，不传参返回 `-Infinity`

<br>

## Math.ceil

向上取整：`Math.ceil(x)`

-   如果参数不是 number，会隐式转换，转不了，则返回 `NaN`
-   不传参返回 `NaN`

```js
Math.ceil(1.1); // 2
Math.ceil(-1.1); // -1
```

<br>

## Math.floor

向下取整：`Math.floor(x)`

-   如果参数不是 number，会隐式转换，转不了，则返回 `NaN`
-   不传参返回 `NaN`

```js
Math.floor(1.1); // 1
Math.floor(-1.1); // -2
```

demo - 获取 `[x, y]` 之间的随机整数：

```
Math.floor(Math.random() * (y - x + 1)) + x
```

<br>

## Math.round

四舍五入：`Math.round(x)`

-   如果参数不是 number，会隐式转换，转不了，则返回 `NaN`
-   不传参返回 `NaN`
-   负数的四舍五入的绝对值 === 负数的绝对值四舍五入

```js
Math.round(1.1); // 1
Math.round(-1.1); // -1
```

<br>

## Math.abs

取绝对值：`Math.abs(x)`

-   如果参数不是 number，会隐式转换，转不了，则返回 `NaN`
-   不传参返回 `NaN`

```js
Math.abs(1.1); // 1.1
Math.abs(-1.1); // 1.1
```

<br>

## Math.sin

正弦值：`Math.sin(x)`

```js
Math.sin(Math.PI / 6);
```

相关的还有：余弦值-`Math.cos(x)`、正切值-`Math.tan(x)`、

<br>

## Math.pow

`x` 的 `y` 次方：`Math.pow(x, y)`

-   如果参数不是 number，会隐式转换，转不了，则返回 `NaN`
-   传 0 / 1 个参数，返回 `NaN`
-   `x` `y` 支持负数

```js
Math.pow(2, -2); // 0.25
```

<br>

## Math.sqrt

`x` 的平方根：`Math.sqrt(x)`

-   如果参数不是 number，会隐式转换，转不了，则返回 `NaN`
-   不传参返回 `NaN`

```js
Math.sqrt(4); // 2
```

# demo

四位随机验证码：

```js
function unique() {
    const str =
        '0123456789abcdefghijklmnopqrstuvwsyzABCDEFGHIJKLMNOPQRSTUVWSYZ';
    let newStr = '';
    for (let i = 0; i < 4; i++) {
        // 可重复的验证码
        newStr += str[Math.floor(Math.random() * str.length)];
    }
    return newStr;
}
console.log(unique());
```

```js
function unique() {
    const str =
        '0123456789abcdefghijklmnopqrstuvwsyzABCDEFGHIJKLMNOPQRSTUVWSYZ';
    let newStr = '';
    for (let i = 0; i < 4; i++) {
        let random = Math.floor(Math.random() * str.length);
        if (newStr.indexOf(str[random]) !== -1) {
            // 不重复的验证码
            i--;
            continue;
        } else {
            newStr += str[random];
        }
    }
    return newStr;
}
console.log(unique());
```

<br><br>

# ES6 新增方法

## trunc

用于截取数值，保留整数部分

-   对于非数值，会进行隐式类型转换
-   对于空值和无法截取整数的值，返回 `NaN`

```js
Math.trunc(4.1); // 4
Math.trunc(4.9); // 4
Math.trunc(-4.1); // -4
Math.trunc(-4.9); // -4
Math.trunc(-0.1234); // -0
```

-   简写：`~~`

```js
~~2.3; // 2
~~-2.3; // -2
```

<br>

## sign

用于判断一个数是正数、负数、还是零

-   对于非数值，会进行隐式类型转换

1. 参数为正数，返回 `+1`
2. 参数为负数，返回 `-1`
3. 参数为 `0`，返回 `0`
4. 参数为 `-0`，返回 `-0`
5. 其他值，返回 `NaN`

```js
Math.sign(-5); // -1
Math.sign(5); // +1
Math.sign(0); // +0
Math.sign(-0); // -0
Math.sign(NaN); // NaN

Math.sign(''); // 0
Math.sign(true); // +1
Math.sign(null); // 0
Math.sign('9'); // +1
Math.sign('foo'); // NaN
Math.sign(); // NaN
Math.sign(undefined); // NaN
```

<br>

## cbrt

用于计算一个数的**立方根**

-   对于非数值，会进行隐式类型转换

```js
Math.cbrt(-1); // -1
Math.cbrt(0); // 0
Math.cbrt(1); // 1
Math.cbrt(27); // 3
```

<br>

## hypot

返回所有参数的平方和的平方根

-   对于非数值，会进行隐式类型转换

```js
Math.hypot(3, 4); // 5
Math.hypot(3, 4, 5); // 7.0710678118654755
Math.hypot(); // 0
Math.hypot(NaN); // NaN
Math.hypot(3, 4, 'foo'); // NaN
Math.hypot(3, 4, '5'); // 7.0710678118654755
Math.hypot(-3); // 3
```

<br>
