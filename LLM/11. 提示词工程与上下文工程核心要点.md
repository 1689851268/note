# 大模型提示词工程与上下文工程学习笔记

## 核心概念

### 提示词 (Prompt)

-   **基本定义**: 用户发给 AI 的话, 是用户与 AI 模型交互的输入
-   **分类**:
    -   **System Prompt (系统提示词)**: 设定 AI 角色和行为的指令, 如 "你扮演一个猫娘"
    -   **User Prompt (用户提示词)**: 用户实际想说的话, 如 "你好"

### 提示词工程 (Prompt Engineering)

通过精心设计向 AI 提问的方式, 来获得更精准、更符合预期的回答.

### 上下文 (Context)

-   **定义**: 被一次性发给 AI 的完整历史记录, 包含所有对话历史和相关信息
-   **核心问题**: AI 模型本身没有记忆, 每次都是独立请求
-   **实现机制**: 通过 AI Agent 或聊天机器人服务器维护完整历史记录

### 上下文工程 (Context Engineering)

管理和修改历史记录, 确保 AI 在漫长自主行动中始终符合用户最初要求.

## 核心技巧

### 1. 零样本 (Zero Shot)

-   **定义**: 直接给出要求, 但不给 AI 模型具体例子
-   **示例**: "在解决数学问题时, 请先分析题目类型, 然后逐步计算, 最后验证答案的正确性"

### 2. 少样本 (Few Shot)

-   **定义**: 在提示词中先给 AI 几个具体例子作为参考
-   **示例**: 将正常句子转化成猫娘体
    -   输入: "我们去吃饭吧" → 输出: "我们去吃饭好不好呀"
    -   输入: "我写了一个程序" → 输出: "我把程序录好了"

### 3. 思维链 (Chain of Thought, COT)

-   **定义**: 让 AI 一步步思考, 输出推理过程
-   **示例**:
    -   问题: "1+2×3 等于多少"
    -   引导: "请一步一步拆解问题, 给出每一步的中间结果"
    -   结果: 先计算 2×3=6, 再计算 1+6=7

## 上下文管理策略

### 1. 让 AI 学会记笔记

-   **原理**: 给 AI 提供专门的记笔记工具, 让其主动管理任务状态
-   **使用策略**:
    1. 行动前先分解任务
    2. 在笔记中写下任务清单
    3. 严格根据任务清单执行
    4. 每完成一项就更新状态
-   **关键**: 将笔记插入到上下文开头或结尾的显眼位置

### 2. 压缩上下文长度

-   **直接丢弃**: 保留新消息, 丢弃太老的消息
-   **智能压缩**: 提取较老消息的关键信息, 用精炼总结替换原上下文
-   **高级压缩**: 将长内容存入向量数据库, 用简短指令替代原文

## 实际应用

### AI Agent 工具调用

-   **流程**: 用户消息 → AI Agent → 工具调用 → 结果返回 → 上下文更新
-   **挑战**: 上下文变长, AI 容易跑偏
-   **解决**: 通过上下文工程确保 AI 始终记得最初任务

### 网页浏览功能

-   **过程**: 搜索 → 访问网页 → 提取内容 → 总结信息
-   **优化**: 去除 HTML 标签, 只返回核心内容

## 核心目标

所有上下文工程技术的最终目的：**在人类用户无法实时干预 AI 行动时, 确保 AI 模型始终记得自己最初的任务是什么**.

## 技术发展趋势

-   这是一个非常热门的 AI 应用研究方向
-   新的研究和技术在不断涌现
-   目前还没有公认的完美解决方案
-   需要根据具体应用场景选择合适的管理策略
